
<ion-content>
  <div id="container">

    <main class="container-fluid">
      <article>
        <section id="user-register" class="text-center">
          <h1 class="register-title" *ngIf="!dataSubmitted">
            ¡Bienvenido!<br>¿Deseas Darte de Alta?
          </h1>

          <h1 class="register-title" *ngIf="dataSubmitted">
            ¡ Felicidades ! ¡ Usuario registrado correctamente !
          </h1>

          <form *ngIf="!dataSubmitted" id="register" method="get" action="" [formGroup]="form" (ngSubmit)="onSubmit()">

            <div class="container ion-align-items-center">
              <div class="row">

                <div class="row pt-3">
                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="name" >Nombre</ion-label>
                      <ion-input class="form-field col-6 ion-text-left" type="text" id="name"
                                 placeholder="(Requerido)"
                                 formControlName="name">
                      </ion-input>
                    </ion-item>

                    <ion-item  *ngIf="formField['name'].hasError('minlength') || formField['name'].hasError('maxlength')"  class="doesnt-match form-field text-danger">
                      Mínimo 4 y máximo 16 caracteres
                    </ion-item>

                  </div>
                </div>

                <div class="row pt-3">

                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="password" >Contraseña</ion-label>
                      <ion-input class="form-field col-6 ion-text-left" type="password" id="password"
                                 placeholder="(Requerido)"
                                 formControlName="pswd">
                      </ion-input>

                    </ion-item>
                    <ion-item  *ngIf="formField['pswd'].invalid"  class="doesnt-match form-field text-danger text-end">
                      Patrón incorrecto
                    </ion-item>
                    <ion-item  *ngIf="this.form.hasError('notSame') && !formField['pswd'].invalid"  class="doesnt-match form-field text-danger text-end">
                      Las contraseñas no coinciden
                    </ion-item>
                  </div>

                </div>

                <div class="row pt-3">
                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-9 ion-text-left" for="password pswd" >Confirmar contraseña</ion-label>
                      <ion-input class="form-field col-3 ion-text-left" type="password"
                                 formControlName="confirm_pswd">
                      </ion-input>

                    </ion-item>
                    <ion-item  *ngIf="formField['confirm_pswd'].invalid"  class="doesnt-match form-field text-danger text-end">
                      Patrón incorrecto
                    </ion-item>
                    <ion-item  *ngIf="this.form.hasError('notSame') && !formField['confirm_pswd'].invalid"  class="doesnt-match form-field text-danger text-end">
                      Las contraseñas no coinciden
                    </ion-item>
                  </div>
                </div>

                <div class="row pt-3">
                  <div class="form-group">


                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="email" >Email</ion-label>
                      <ion-input class="form-field col-6 ion-text-left" type="email"
                                 placeholder="(Requerido)"
                                 formControlName="email"
                      >
                      </ion-input>
                    </ion-item>
                    <ion-item  *ngIf="formField['email'].invalid"  class="doesnt-match form-field text-danger text-end">
                      Patrón incorrecto
                    </ion-item>
                  </div>

                </div>

                <div class="row pt-3">
                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="birth" >Nacimiento</ion-label>
                      <ion-input class="form-field col-6 ion-text-center" type="date"
                                 formControlName="birth"
                                 placeholder="(Opcional)"
                      >
                      </ion-input>
                    </ion-item>

                  </div>
                </div>

                <div class="row pt-3">
                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="nationality" >Nacionalidad</ion-label>
                      <ion-input class="form-field col-6 ion-text-left" type="text"
                                 placeholder="(Opcional)"
                                 formControlName="nationality"
                      >
                      </ion-input>
                    </ion-item>

                  </div>
                </div>

                <div class="row pt-3">
                  <div class="form-group">

                    <ion-item class="ion-text-center">
                      <ion-label class="form-field col-6 ion-text-center" for="about me form" >Sobre mí</ion-label>
                      <ion-input class="form-field col-6 ion-text-left" type="text"
                                 placeholder="(Opcional)"
                                 formControlName="description"
                      >
                      </ion-input>
                    </ion-item>

                  </div>
                </div>

                <div class="row pt-3 ">
                  <div class="form-group ">

                    <div class="text-end col-12 ">
                      <ion-input class="text-center col-9" type="file"  id="get-file-input"
                                 (change)="fileNameSelected($event)"
                                 name="filename" formControlName="fileImg">
                      </ion-input>
                    </div>
                  </div>
                </div>

              </div>
            </div>

            <div class="row justify-content-center pt-3">

              <ion-label  *ngIf="formField['pswd'].invalid || formField['pswd'].invalid"  class="text-danger ion-text-center col-10">
                La contraseña debe contener al menos 1 mayúscula, 1 minúscula, 1 número y situarse entre 6 y 16 caracteres
              </ion-label>


              <ion-button *ngIf="!dataSubmitted" (click)="onSubmit()" class="submit-button-form col-9">
                Registrarse
              </ion-button>


            </div>
          </form>

          <ion-button *ngIf="dataSubmitted" (click)="prepareForNewUser()" class="submit-button-form col-4">
            ¿ Volver a registrar un nuevo usuario ?
          </ion-button>

        </section>

        <section id="about-us">
          <h1 id="about-us-title" class="display-3">¿Qué te podemos ofrecer?</h1>
          <ol class="offering-list">
            <li>Puntúa tus elementos multimedias favoritos</li>
            <li>Déjanos tu opinión</li>
            <li>Accede a la información más relevantes de tus pelis favoritas</li>
            <li>Accede a una comunidad que comparte tus gustos</li>
            <li>Crea tu propia lista de elementos multimedia</li>
          </ol>
        </section>

      </article> <!--//header-->
    </main> <!--//header-->

  </div> <!--//container-->

</ion-content>

